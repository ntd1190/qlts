@{
    ViewBag.Title = "Edit";
    ViewBag.userInfo = ViewBag.userInfo ?? "{}";
}
@if (ViewBag.Html != null && (bool)ViewBag.Html == true)
{
    <!-- .container-fluid -->
    <div class="container-fluid"  ng-init="ctrl.onInitView({userInfo: @ViewBag.userInfo, linkUrl:'@(Url.Content("~/"))'})" keyboard="ctrl.keys">
        <div class="row">
            <div class="col-lg-12">
                <h3 class="page-header">Thông tin nhân viên</h3>
            </div>
        </div>

        <div class="panel with-nav-tabs panel-default">
            <div class="panel-heading">
                <ul class="nav nav-tabs">
                    <li class="active"><a href="javascript:void(0);" data-target="#chung" data-toggle="tab">Thông tin chung</a></li>
                </ul>
            </div>
            <div class="panel-body">
                <div class="tab-content">
                    <!-- #chung.tab-pane -->
                    <div class="tab-pane fade in active" id="chung">
                        <h3 class="text-center">Thông tin chung</h3>
                        <form class="form-horizontal">
                            <div class="row form-group form-group-sm" ng-class="(ctrl.status.errMa)?'has-error':''">
                                <label class="col-sm-3 control-label">Mã nhân viên (*)</label>
                                <div class="col-sm-6">
                                    <div class="input-group input-group-sm">
                                        <input id="TTNV_txtMa" type="text" class="form-control" ng-model="ctrl.data.nhanVien.Ma" ng-keypress="ctrl.action.keyPress(ctrl.data.nhanVien.Ma,'TTNV_txtMa','TTNV_txtHo',$event)" />
                                        <a class="btn input-group-addon" href="javascript:void(0);" ></a>
                                    </div>
                                </div>
                            </div>

                            <div class="row form-group form-group-sm" ng-class="(ctrl.status.errHo)?'has-error':''">
                                <label class="col-sm-3 control-label">Họ (*)</label>
                                <div class="col-sm-9">
                                    <input id="TTNV_txtHo" type="text" class="form-control" ng-model="ctrl.data.nhanVien.Ho" ng-keypress="ctrl.action.keyPress(ctrl.data.nhanVien.Ho,'TTNV_txtHo','TTNV_txtTen',$event)" />
                                </div>
                            </div>
                            <div class="row form-group form-group-sm" ng-class="(ctrl.status.errTen)?'has-error':''">
                                <label class="col-sm-3 control-label">Tên (*)</label>
                                <div class="col-sm-9">
                                    <input id="TTNV_txtTen" type="text" class="form-control" ng-model="ctrl.data.nhanVien.Ten" ng-keypress="ctrl.action.keyPress(ctrl.data.nhanVien.Ten,'TTNV_txtTen','TTNV_txtPhongBanId',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm" ng-class="(ctrl.status.errPhongBanId)?'has-error':''">
                                <label class="col-sm-3 control-label">Phòng ban (*)</label>
                                <div class="col-sm-9">
                                    <div class="form-control">
                                        <span ng-if="!ctrl.action.checkQuyenTacVu('M')" ng-bind="ctrl.data.nhanVien.TenPhongBan"></span>
                                        <a class="pull-right" href="javascript:void(0);"
                                           ng-if="ctrl.action.checkQuyenTacVu('M')" ng-click="ctrl.action.clearPhongBan()">
                                            <i class="fa fa-fw fa-remove"></i>
                                        </a>
                                        <a href="javascript:void(0);" data-toggle="collapse" data-target="#PhongBanListPopup" id="TTNV_txtPhongBanId"
                                           ng-if="ctrl.action.checkQuyenTacVu('M')"
                                           ng-keypress="ctrl.action.keyPress(ctrl.data.nhanVien.PhongBanId,'TTNV_txtPhongBanId','TTNV_txtChucVuId',$event)">
                                            <div>
                                                <i class="fa fa-fw fa-search"></i>
                                                <span style="margin-right: 5px;" ng-bind="ctrl.data.nhanVien.TenPhongBan"></span>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="row form-group form-group-sm" ng-class="(ctrl.status.errChucVuId)?'has-error':''">
                                <label class="col-sm-3 control-label">Chức vụ (*)</label>
                                <div class="col-sm-9">
                                    <div class="form-control">
                                        <span ng-if="!ctrl.action.checkQuyenTacVu('M')" ng-bind="ctrl.data.nhanVien.TenChucVu"></span>
                                        <a class="pull-right" href="javascript:void(0);" ng-if="ctrl.action.checkQuyenTacVu('M')" ng-click="ctrl.action.clearChucVu()"><i class="fa fa-fw fa-remove"></i></a>
                                        <a href="javascript:void(0);" data-toggle="collapse" data-target="#ChucVuNhanVienListPopup" id="TTNV_txtChucVuId"
                                           ng-if="ctrl.action.checkQuyenTacVu('M')"
                                           ng-keypress="ctrl.action.keyPress(ctrl.data.nhanVien.ChucVuId,'TTNV_txtChucVuId','TTNV_txtNgaySinh',$event)">
                                            <div>
                                                <i class="fa fa-fw fa-search"></i>
                                                <span style="margin-right: 5px;" ng-bind="ctrl.data.nhanVien.TenChucVu"></span>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="row form-group form-group-sm" ng-class="{'has-error':ctrl.status.errTenChiNhanh}">
                                <label for="txtNhanVien" class="control-label col-sm-3">Chi nhánh (*)</label>
                                <div class="col-sm-9">
                                    <div class="form-control auto-height">
                                        <div>
                                            <span class="" style="margin-right: 5px;" ng-bind="ctrl.data.nhanVien.TenChiNhanh"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="control-label col-sm-3">Ngày sinh</label>
                                <div class="col-sm-4">
                                    <span id="TTNV_txtNgaySinh" type='text' class="form-control"
                                           ng-bind="ctrl.data.nhanVien.NgaySinh" ng-keypress="ctrl.action.keyPress('','TTNV_txtNgaySinh','TTNV_txtCMND',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="col-sm-3 control-label">Số CMND</label>
                                <div class="col-sm-9">
                                    <span id="TTNV_txtCMND" type="text" class="form-control"
                                           ng-bind="ctrl.data.nhanVien.CMND" ng-keypress="ctrl.action.keyPress('','TTNV_txtCMND','TTNV_txtNgayCap',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="control-label col-sm-3">Ngày cấp</label>
                                <div class="col-sm-4">
                                    <span id="TTNV_txtNgayCap" type='text' class="form-control"
                                           ng-bind="ctrl.data.nhanVien.NgayCap" ng-keypress="ctrl.action.keyPress('','TTNV_txtNgayCap','TTNV_txtNoiCap',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="col-sm-3 control-label">Nơi cấp</label>
                                <div class="col-sm-9">
                                    <span id="TTNV_txtNoiCap" type="text" class="form-control"
                                           ng-bind="ctrl.data.nhanVien.NoiCap" ng-keypress="ctrl.action.keyPress('','TTNV_txtNoiCap','TTNV_txtThuongTru',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="col-sm-3 control-label">Địa chỉ thường trú</label>
                                <div class="col-sm-9">
                                    <span id="TTNV_txtThuongTru" type="text" class="form-control"
                                           ng-bind="ctrl.data.nhanVien.ThuongTru" ng-keypress="ctrl.action.keyPress('','TTNV_txtThuongTru','TTNV_txtTamTru',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="col-sm-3 control-label">Địa chỉ tạm trú</label>
                                <div class="col-sm-9">
                                    <span id="TTNV_txtTamTru" type="text" class="form-control"
                                           ng-bind="ctrl.data.nhanVien.TamTru" ng-keypress="ctrl.action.keyPress('','TTNV_txtTamTru','TTNV_txtNgayTuyenDung',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="control-label col-sm-3">Ngày tuyển dụng</label>
                                <div class="col-sm-4">
                                    <span id="TTNV_txtNgayTuyenDung" type='text' class="form-control
                                       " ng-bind="ctrl.data.nhanVien.NgayTuyenDung" ng-keypress="ctrl.action.keyPress('','TTNV_txtNgayTuyenDung','TTNV_txtDienThoai',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="col-sm-3 control-label">Điện thoại</label>
                                <div class="col-sm-9">
                                    <span id="TTNV_txtDienThoai" type="text" class="form-control"
                                           ng-bind="ctrl.data.nhanVien.DienThoai" ng-keypress="ctrl.action.keyPress('','TTNV_txtDienThoai','TTNV_txtDiDong',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="col-sm-3 control-label">Di động</label>
                                <div class="col-sm-9">
                                    <span id="TTNV_txtDiDong" type="text" class="form-control"
                                           ng-bind="ctrl.data.nhanVien.DiDong" ng-keypress="ctrl.action.keyPress('','TTNV_txtDiDong','TTNV_txtEmail',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="col-sm-3 control-label">Email</label>
                                <div class="col-sm-9">
                                    <span id="TTNV_txtEmail" type="text" class="form-control"
                                           ng-bind="ctrl.data.nhanVien.Email" ng-keypress="ctrl.action.keyPress('','TTNV_txtEmail','TTNV_chkDangLamViec',$event)" />
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="col-sm-3 control-label">Trang thái</label>
                                <div class="col-sm-9">
                                    <div class="checkbox">
                                        <label>
                                            <input id="TTNV_chkDangLamViec" type="checkbox"
                                                   ng-model="ctrl.data.dangLamViec" ng-checked="ctrl.data.dangLamViec == '' ? true : ctrl.data.dangLamViec" ng-keypress="ctrl.action.keyPress('','TTNV_chkDangLamViec','TTNV_txtGhiChu',$event)" />
                                            <span>đang làm việc</span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="row form-group form-group-sm">
                                <label class="col-sm-3 control-label">Ghi chú</label>
                                <div class="col-sm-9">
                                    <span id="TTNV_txtGhiChu" type="text" class="form-control" ng-bind="ctrl.data.nhanVien.GhiChu"
                                           ng-keypress="ctrl.action.keyPress('','TTNV_txtGhiChu','TTNV_btnLuu',$event)" />
                                </div>
                            </div>
                            <div class="btn-group-sm text-center">
                                <a class="btn btn-sm btn-default" ng-click="ctrl.action.goBack()"><i class="fa fa-arrow-left"></i> Quay lại</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            </div>
                        </form>
                    </div><!-- /#chung.tab-pane -->
                </div>
            </div>
        </div>
    <!-- /.container-fluid -->
       
    </div><!-- /.container-fluid -->
    <div ui-view></div>
}
else if (ViewBag.ImportStyles != null && (bool)ViewBag.ImportStyles == true) { }
else if (ViewBag.SetupStyles != null && (bool)ViewBag.SetupStyles == true) { }
else if (ViewBag.ImportScripts != null && (bool)ViewBag.ImportScripts == true) { }
else if (ViewBag.SetupScripts != null && (bool)ViewBag.SetupScripts == true) { }
else if (ViewBag.ImportAngular != null && (bool)ViewBag.ImportAngular == true) {  }